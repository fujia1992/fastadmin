(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c352045"],{"1da2":function(t,e,a){},4266:function(t,e,a){"use strict";var s=a("1da2"),i=a.n(s);i.a},"4fbe":function(t,e,a){},5399:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cube-page",class:t.type},[a("header",{staticClass:"header"},[a("h1",[t._v(t._s(t.title))]),a("i",{staticClass:"cubeic-back",on:{click:t.back}},[a("van-icon",{attrs:{size:"20px",name:"arrow-left"}})],1)]),a("div",{staticClass:"wrapper"},[a("section",{directives:[{name:"show",rawName:"v-show",value:t.desc,expression:"desc"}],staticClass:"desc"},[t._t("desc",[t._v(t._s(t.desc))])],2),a("main",{staticClass:"content"},[t._t("content",[t._v(t._s(t.content))])],2)])])},i=[],n={props:{title:{type:String,default:"",required:!0},type:{type:String,default:""},desc:{type:String,default:""},content:{type:String,default:""}},methods:{back:function(){window.history.length>1?this.$router.back():this.$router.push("/")}}},r=n,c=(a("7dda"),a("cf63"),a("2877")),d=Object(c["a"])(r,s,i,!1,null,"a378effe",null);e["a"]=d.exports},"7dda":function(t,e,a){"use strict";var s=a("bcd4"),i=a.n(s);i.a},bcd4:function(t,e,a){},cf63:function(t,e,a){"use strict";var s=a("4fbe"),i=a.n(s);i.a},dfd9:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"orderdetail"},[a("cube-page",{attrs:{type:"orderdetail-view",title:"订单详情"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("van-steps",{staticClass:"vsp-c",attrs:{active:t.active,"active-color":t.gcfg.BackgroundColor}},[a("van-step",[t._v("付款中"),a("br"),t._v("请及时支付")]),a("van-step",[t._v("待发货"),a("br"),t._v("后台配货中")]),a("van-step",[t._v("已发货"),a("br"),t._v("快递狂奔中")]),a("van-step",[t._v("已完成"),a("br"),t._v("享受宝物中")])],1),t._l(t.detail.goods,function(e,s){return a("div",{key:s,staticClass:"card-root-c"},[0!=e.show_error?a("div",{staticClass:"goods_err_div"},[t._v(t._s(e.show_error_text))]):t._e(),a("van-card",{attrs:{price:e.goods_price,title:e.goods_name,num:e.total_num,desc:e.goods_attr?e.goods_attr:"默认规格",centered:!0,"lazy-load":!0,thumb:""==e.spec.spec_image?e.image:e.sku_image}})],1)}),a("van-cell-group",{staticClass:"vcg-c"},[a("van-cell",{attrs:{title:"订单号：",value:t.detail.order_no}}),a("van-cell",{attrs:{title:"订单提交时间：",value:t.detail.creattime_text}}),20==t.detail.pay_status?a("van-cell",{attrs:{title:"订单支付时间：",value:t.detail.pay_time_text}}):t._e(),a("van-cell",{staticClass:"pric-cell",attrs:{title:"商品价格总计：",value:"￥"+t.detail.total_price}}),a("van-cell",{staticClass:"pric-cell",attrs:{title:"快递费用：",value:0==t.detail.express_price?"免邮费或未查询到运费":"＋ ￥"+t.detail.express_price}}),0!=t.detail.freight_time?a("div",[a("van-cell",{attrs:{title:"发货时间：",value:t.detail.freight_time_text}}),a("van-cell",{attrs:{title:"快递公司：",value:t.detail.express_company}}),a("van-cell",{attrs:{title:"快递单号：",value:t.detail.express_no}})],1):t._e()],1),a("van-submit-bar",{attrs:{price:100*t.detail.pay_price,"button-text":t.detail.BTText,"button-type":t.detail.BTtype,loading:t.disabled,disabled:1==t.active||3==t.active},on:{submit:t.onSubmit}},[0==t.active?a("van-tag",{staticClass:"tagadress",attrs:{size:"large",color:t.gcfg.BackgroundColor},on:{click:t.TapCancel}},[t._v("取消订单")]):t._e(),a("span",{attrs:{slot:"tip"},slot:"tip"},[a("van-icon",{staticClass:"ico-ad",attrs:{name:"logistics"}}),a("span",{staticClass:"ab_mt"},[t._v(t._s(t.detail.address.Area.province)+t._s(t.detail.address.Area.city)+t._s(t.detail.address.Area.region)+" - "+t._s(t.detail.address.detail))]),a("br"),a("van-icon",{staticClass:"lianxirentip ico-ad",attrs:{name:"phone"}}),a("span",{staticClass:"lianxirentip ab_mt"},[t._v(t._s(t.detail.address.name)+" : "+t._s(t.detail.address.phone))])],1)],1)],2)])],1)},i=[],n=a("5399"),r=a("c290"),c={components:{CubePage:n["a"]},data:function(){return{active:0,id:this.$route.query.id,detail:{address:{Area:{}}},disabled:!1,gcfg:[]}},created:function(){var t="/addons/litestore/api.order/detail",e=this;r["a"](t,{id:e.id},function(t){console.log(t.data);var a=0,s=t.data.order;"20"==s.pay_status&&"10"==s.freight_status&&"10"==s.order_status&&"10"==s.receipt_status&&(s.showText="待发货",s.BTText="已付款",s.BTtype="primary",a=1),"20"==s.pay_status&&"20"==s.freight_status&&"10"==s.order_status&&"10"==s.receipt_status&&(s.showText="待收货",s.BTText="确认收货",s.BTtype="warning",a=2),"10"==s.pay_status&&"10"==s.freight_status&&"10"==s.order_status&&"10"==s.receipt_status&&(s.showText="待付款",s.BTText="提交订单",s.BTtype="danger",a=0),"20"==s.pay_status&&"20"==s.freight_status&&"30"==s.order_status&&"20"==s.receipt_status&&(s.showText="已完成",s.BTText="订单已完成",s.BTtype="default",a=3),e.detail=s,e.active=a}),this.gcfg=this.$store.getters.getGcfg},methods:{onSubmit:function(){var t=this;if(t.disabled)return!1;if(t.disabled=!0,2!=t.active){e="/addons/litestore/api.order/order_pay";r["b"](e,{type:"gzh",id:t.id},function(e){console.log(e),t.disabled=!1,t.wx_pay_fun(e.data)},function(e){t.disabled=!1,console.log(e)})}else{var e="/addons/litestore/api.order/finish";r["b"](e,{id:t.id},function(e){t.disabled=!1,t.$router.go(0)},function(e){t.disabled=!1,console.log(e)})}},TapCancel:function(){var t="/addons/litestore/api.order/cancel",e=this;e.$dialog.confirm({title:"提示",message:"确认取消订单？"}).then(function(){r["b"](t,{id:e.id},function(t){console.log(t.data),e.$router.go(-1)})}).catch(function(){})},wx_pay_fun:function(t){var e=this;"undefined"==typeof WeixinJSBridge?(e.$toast("请使用微信打开"),document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e.onBridgeReady(t),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e.onBridgeReady(t)),document.attachEvent("onWeixinJSBridgeReady",e.onBridgeReady(t)))):e.onBridgeReady(t)},onBridgeReady:function(t){var e=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appId,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,timeStamp:t.timestamp},function(t){console.log(t.err_msg),"get_brand_wcpay_request:ok"==t.err_msg?e.$toast("恭喜，支付成功"):e.$toast("未支付或支付失败"),e.$router.go(0)})}},watch:{"$store.state.gcfg":function(){this.gcfg=this.$store.getters.getGcfg}}},d=c,o=(a("4266"),a("2877")),l=Object(o["a"])(d,s,i,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-7c352045.458f60ce.js.map